{"version":3,"file":"carousel.js","sources":["../src/shared/injectSymbols.ts","../src/shared/constants.ts","../src/shared/slideRegistry.ts","../src/utils/getNumberInRange.ts","../src/utils/getScrolledIndex.ts","../src/utils/getMinSlideIndex.ts","../src/utils/getMaxSlideIndex.ts","../src/utils/mapNumberToRange.ts","../src/utils/i18nFormatter.ts","../src/utils/throttle.ts","../src/utils/except.ts","../src/utils/getTransformValues.ts","../src/utils/createCloneSlides.ts","../src/utils/disableChildrenTabbing.ts","../src/utils/getDraggedSlidesCount.ts","../src/components/ARIA/ARIA.ts","../src/components/Carousel/carouselProps.ts","../src/components/Carousel/Carousel.ts","../src/components/Icon/Icon.types.ts","../src/components/Icon/Icon.ts","../src/components/Navigation/Navigation.ts","../src/components/Pagination/Pagination.ts","../src/components/Slide/Slide.ts"],"sourcesContent":["import { InjectionKey } from 'vue'\n\nimport { InjectedCarousel } from '@/components/Carousel'\n\n// Use a symbol for inject provide to avoid any kind of collision with another lib\n// https://vuejs.org/guide/components/provide-inject#working-with-symbol-keys\nexport const injectCarousel = Symbol('carousel') as InjectionKey<\n  InjectedCarousel | undefined\n>\n","import { CarouselConfig } from './types'\n\nexport const SNAP_ALIGN_OPTIONS = [\n  'center',\n  'start',\n  'end',\n  'center-even',\n  'center-odd',\n] as const\nexport const SLIDE_EFFECTS = ['slide', 'fade'] as const\nexport const BREAKPOINT_MODE_OPTIONS = ['viewport', 'carousel'] as const\nexport const DIR_OPTIONS = [\n  'ltr',\n  'left-to-right',\n  'rtl',\n  'right-to-left',\n  'ttb',\n  'top-to-bottom',\n  'btt',\n  'bottom-to-top',\n] as const\nexport const I18N_DEFAULT_CONFIG = {\n  ariaNextSlide: 'Navigate to next slide',\n  ariaPreviousSlide: 'Navigate to previous slide',\n  ariaNavigateToSlide: 'Navigate to slide {slideNumber}',\n  ariaNavigateToPage: 'Navigate to page {slideNumber}',\n  ariaGallery: 'Gallery',\n  itemXofY: 'Item {currentSlide} of {slidesCount}',\n  iconArrowUp: 'Arrow pointing upwards',\n  iconArrowDown: 'Arrow pointing downwards',\n  iconArrowRight: 'Arrow pointing to the right',\n  iconArrowLeft: 'Arrow pointing to the left',\n} as const\n\nexport const DIR_MAP = {\n  'left-to-right': 'ltr',\n  'right-to-left': 'rtl',\n  'top-to-bottom': 'ttb',\n  'bottom-to-top': 'btt',\n} as const\n\nexport const NORMALIZED_DIR_OPTIONS = Object.values(DIR_MAP)\n\nexport const DEFAULT_CONFIG: CarouselConfig = {\n  enabled: true,\n  itemsToShow: 1,\n  itemsToScroll: 1,\n  modelValue: 0,\n  transition: 300,\n  autoplay: 0,\n  gap: 0,\n  height: 'auto',\n  wrapAround: false,\n  pauseAutoplayOnHover: false,\n  mouseDrag: true,\n  touchDrag: true,\n  snapAlign: SNAP_ALIGN_OPTIONS[0],\n  dir: DIR_OPTIONS[0],\n  breakpointMode: BREAKPOINT_MODE_OPTIONS[0],\n  breakpoints: undefined,\n  i18n: I18N_DEFAULT_CONFIG,\n  ignoreAnimations: false,\n  slideEffect: SLIDE_EFFECTS[0],\n}\n","import { ComponentInternalInstance, EmitFn, shallowReactive } from 'vue'\n\nconst createSlideRegistry = (emit: EmitFn) => {\n  const slides = shallowReactive<Array<ComponentInternalInstance>>([])\n  const clonedSlides = shallowReactive<Array<ComponentInternalInstance>>([])\n\n  const updateSlideIndexes = (startIndex?: number) => {\n    if (startIndex !== undefined) {\n      slides.slice(startIndex).forEach((slide, offset) => {\n        slide.exposed?.setIndex(startIndex + offset)\n      })\n    } else {\n      slides.forEach((slide, index) => {\n        slide.exposed?.setIndex(index)\n      })\n    }\n  }\n\n  return {\n    registerSlide: (slide: ComponentInternalInstance, index?: number) => {\n      if (!slide) return\n\n      if (slide.props.isClone) {\n        clonedSlides.push(slide)\n        return\n      }\n\n      const slideIndex = index ?? slides.length\n      slides.splice(slideIndex, 0, slide)\n      updateSlideIndexes(slideIndex)\n      emit('slide-registered', { slide, index: slideIndex })\n    },\n\n    unregisterSlide: (slide: ComponentInternalInstance) => {\n      const slideIndex = slides.indexOf(slide)\n      if (slideIndex === -1) return\n\n      emit('slide-unregistered', { slide, index: slideIndex })\n\n      slides.splice(slideIndex, 1)\n      updateSlideIndexes(slideIndex)\n    },\n\n    cleanup: () => {\n      slides.splice(0, slides.length)\n    },\n\n    getSlides: () => slides,\n    getClonedSlides: () => clonedSlides,\n  }\n}\n\nexport type SlideRegistry = ReturnType<typeof createSlideRegistry>\n\nexport { createSlideRegistry }\n","type GetNumberInRangeArgs = {\n  val: number\n  max: number\n  min: number\n}\n\nexport function getNumberInRange({ val, max, min }: GetNumberInRangeArgs): number {\n  if (max < min) {\n    return val\n  }\n  return Math.min(Math.max(val, isNaN(min) ? val : min), isNaN(max) ? val : max)\n}\n","import { CarouselConfig } from '@/shared'\n\nimport { getNumberInRange } from './getNumberInRange'\n\ntype GetScrolledIndexArgs = {\n  config: Pick<CarouselConfig, 'itemsToShow' | 'wrapAround' | 'snapAlign'>\n  currentSlide: number\n  slidesCount: number\n}\n\nexport const calculateOffset = (snapAlign: string, itemsToShow: number): number => {\n  switch (snapAlign) {\n    default:\n    case 'start':\n      return 0\n    case 'center':\n      return (itemsToShow - 1) / 2\n    case 'center-odd':\n      return (itemsToShow - 1) / 2\n    case 'center-even':\n      return (itemsToShow - 2) / 2\n    case 'end':\n      return itemsToShow - 1\n  }\n}\n\nexport function getScrolledIndex({\n  config,\n  currentSlide,\n  slidesCount,\n}: GetScrolledIndexArgs): number {\n  const { snapAlign = 'center', wrapAround, itemsToShow = 1 } = config\n\n  // Calculate the offset based on snapAlign\n  const offset = calculateOffset(snapAlign, itemsToShow)\n\n  // Compute the index with or without wrapAround\n  if (wrapAround) {\n    return currentSlide - offset\n  }\n  return getNumberInRange({\n    val: currentSlide - offset,\n    max: slidesCount - itemsToShow,\n    min: 0,\n  })\n}\n","import { CarouselConfig } from '@/shared'\nimport { calculateOffset } from '@/utils/getScrolledIndex'\n\ntype GetMinSlideIndexArgs = {\n  config: Partial<CarouselConfig>\n  slidesCount: number\n}\n\n/**\n * Determines the minimum slide index based on the configuration.\n *\n * @param {GetMinSlideIndexArgs} args - The carousel configuration and slide count.\n * @returns {number} The minimum slide index.\n */\nexport function getMinSlideIndex({ config, slidesCount }: GetMinSlideIndexArgs): number {\n  const { snapAlign = 'center', wrapAround, itemsToShow = 1 } = config\n\n  // If wrapAround is enabled or itemsToShow exceeds slidesCount, the minimum index is always 0\n  if (wrapAround || itemsToShow > slidesCount) {\n    return 0\n  }\n\n  // Return the calculated offset or default to 0 for invalid snapAlign values\n  return Math.max(0, Math.floor(calculateOffset(snapAlign, itemsToShow)))\n}\n","import { CarouselConfig } from '@/shared'\n\ntype GetMaxSlideIndexArgs = {\n  config: Partial<CarouselConfig>\n  slidesCount: number\n}\n\n/**\n * Determines the maximum slide index based on the configuration.\n *\n * @param {Args} args - The carousel configuration and slide count.\n * @returns {number} The maximum slide index.\n */\nexport function getMaxSlideIndex({ config, slidesCount }: GetMaxSlideIndexArgs): number {\n  const { snapAlign = 'center', wrapAround, itemsToShow = 1 } = config\n\n  // Map snapAlign values to calculation logic\n  function snapAlignCalculations() {\n    // If wrapAround is enabled, fallback to default which is the last slide\n    switch (wrapAround ? '' : snapAlign) {\n      case 'start':\n        return Math.ceil(slidesCount - itemsToShow)\n      case 'center':\n      case 'center-odd':\n        return slidesCount - Math.ceil((itemsToShow - 0.5) / 2)\n      case 'center-even':\n        return slidesCount - Math.ceil(itemsToShow / 2)\n      case 'end':\n      default:\n        return Math.ceil(slidesCount - 1)\n    }\n  }\n\n  // Return the result ensuring it's non-negative\n  return Math.max(snapAlignCalculations(), 0)\n}\n","type MapNumberToRangeArgs = {\n  val: number\n  max: number\n  min?: number\n}\n\nexport function mapNumberToRange({ val, max, min = 0 }: MapNumberToRangeArgs): number {\n  const mod = max - min + 1\n  return ((((val - min) % mod) + mod) % mod) + min\n}\n","export function i18nFormatter(string = '', values = {}) {\n  return Object.entries(values).reduce(\n    (acc, [key, value]) => acc.replace(`{${key}}`, String(value)),\n    string\n  )\n}\n","/**\n * Returns a throttled version of the function using requestAnimationFrame.\n *\n * @param fn - The function to throttle.\n * @param ms - The number of milliseconds to wait for the throttled function to be called again\n */\nexport function throttle<Args extends Array<unknown>>(\n  fn: (...args: Args) => void,\n  ms = 0\n): { (...args: Args): void; cancel: () => void } {\n  let isThrottled = false\n  let start = 0\n  let frameId: number | null = null\n\n  function throttled(...args: Args) {\n    if (isThrottled) return\n\n    isThrottled = true\n    const step = () => {\n      frameId = requestAnimationFrame((time) => {\n        const elapsed = time - start\n        if (elapsed > ms) {\n          start = time\n          fn(...args)\n          isThrottled = false\n        } else {\n          step()\n        }\n      })\n    }\n    step()\n  }\n\n  throttled.cancel = () => {\n    if (frameId) {\n      cancelAnimationFrame(frameId)\n      frameId = null\n      isThrottled = false\n    }\n  }\n\n  return throttled\n}\n","\n/** Useful function to destructure props without triggering reactivity for certain keys */\nexport function except<Obj extends object, Keys extends string>(obj: Obj, keys: Keys[]): Omit<Obj, Keys> {\n  return (Object.keys(obj).filter((k) => !(keys as string[]).includes(k)) as Array<Exclude<keyof Obj, Keys>>)\n    .reduce((acc, key) => (acc[key] = obj[key], acc), {} as Omit<Obj, Keys>)\n}","export function getTransformValues(el: HTMLElement) {\n  const { transform } = window.getComputedStyle(el)\n\n  //add sanity check\n  return transform\n    .split(/[(,)]/)\n    .slice(1, -1)\n    .map((v) => parseFloat(v))\n}\n","import { cloneVNode, ComponentInternalInstance, VNode } from 'vue'\n\ntype CreateCloneSlidesArgs = {\n  slides: Array<ComponentInternalInstance>\n  position: 'before' | 'after'\n  toShow: number\n}\n\nexport function createCloneSlides({ slides, position, toShow }: CreateCloneSlidesArgs) {\n  const clones: VNode[] = []\n  const isBefore = position === 'before'\n  const start = isBefore ? -toShow : 0\n  const end = isBefore ? 0 : toShow\n\n  if (slides.length <= 0) {\n    return clones\n  }\n\n  for (let i = start; i < end; i++) {\n    const index = isBefore ? i : i + slides.length\n    const props = {\n      index,\n      isClone: true,\n      id: undefined, // Make sure we don't duplicate the id which would be invalid html\n      key: `clone-${position}-${i}`,\n    }\n    const vnode = slides[((i % slides.length) + slides.length) % slides.length].vnode\n    const clone = cloneVNode(vnode, props)\n    clone.el = null\n    clones.push(clone)\n  }\n\n  return clones\n}\n","import { VNode } from 'vue'\n\nconst FOCUSABLE_ELEMENTS_SELECTOR =\n  'a[href], button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])'\n\n/**\n * Disables keyboard tab navigation for all focusable child elements\n * @param node Vue virtual node containing the elements to disable\n */\nexport function disableChildrenTabbing(node: VNode) {\n  if (!node.el || !(node.el instanceof Element)) {\n    return\n  }\n\n  const elements = node.el.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR)\n\n  for (const el of elements) {\n    if (\n      el instanceof HTMLElement &&\n      !el.hasAttribute('disabled') &&\n      el.getAttribute('aria-hidden') !== 'true'\n    ) {\n      el.setAttribute('tabindex', '-1')\n    }\n  }\n}\n","interface DragParams {\n  isVertical: boolean\n  isReversed: boolean\n  dragged: { x: number; y: number }\n  effectiveSlideSize: number\n}\n\n/**\n * Calculates the number of slides to move based on drag movement\n * @param params Configuration parameters for drag calculation\n * @returns Number of slides to move (positive or negative)\n */\nexport function getDraggedSlidesCount(params: DragParams): number {\n  const { isVertical, isReversed, dragged, effectiveSlideSize } = params\n\n  // Get drag value based on direction\n  const dragValue = isVertical ? dragged.y : dragged.x\n\n  // If no drag, return +0 explicitly\n  if (dragValue === 0) return 0\n\n  const slidesDragged = Math.round(dragValue / effectiveSlideSize)\n\n  return isReversed ? slidesDragged : -slidesDragged\n}\n","import { defineComponent, inject, h } from 'vue'\n\nimport { injectCarousel } from '@/shared'\nimport { i18nFormatter } from '@/utils'\n\nexport const ARIA = defineComponent({\n  name: 'CarouselAria',\n  setup() {\n    const carousel = inject(injectCarousel)\n\n    if (!carousel) {\n      return () => ''\n    }\n\n    return () =>\n      h(\n        'div',\n        {\n          class: ['carousel__liveregion', 'carousel__sr-only'],\n          'aria-live': 'polite',\n          'aria-atomic': 'true',\n        },\n        i18nFormatter(carousel.config.i18n['itemXofY'], {\n          currentSlide: carousel.currentSlide + 1,\n          slidesCount: carousel.slidesCount,\n        })\n      )\n  },\n})\n","import { PropType } from 'vue'\n\nimport {\n  BREAKPOINT_MODE_OPTIONS,\n  DEFAULT_CONFIG,\n  DIR_OPTIONS,\n  SLIDE_EFFECTS,\n  SNAP_ALIGN_OPTIONS,\n} from '@/shared'\n\nimport type {\n  BreakpointMode,\n  Dir,\n  SnapAlign,\n  CarouselConfig,\n  SlideEffect,\n} from '@/shared'\n\nexport const carouselProps = {\n  // enable/disable the carousel component\n  enabled: {\n    default: DEFAULT_CONFIG.enabled,\n    type: Boolean,\n  },\n  // count of items to showed per view\n  itemsToShow: {\n    default: DEFAULT_CONFIG.itemsToShow,\n    type: Number,\n  },\n  // count of items to be scrolled\n  itemsToScroll: {\n    default: DEFAULT_CONFIG.itemsToScroll,\n    type: Number,\n  },\n  // control infinite scrolling mode\n  wrapAround: {\n    default: DEFAULT_CONFIG.wrapAround,\n    type: Boolean,\n  },\n  // control the gap between slides\n  gap: {\n    default: DEFAULT_CONFIG.gap,\n    type: Number,\n  },\n  // control the gap between slides\n  height: {\n    default: DEFAULT_CONFIG.height,\n    type: [Number, String],\n  },\n  // control snap position alignment\n  snapAlign: {\n    default: DEFAULT_CONFIG.snapAlign,\n    validator(value: SnapAlign) {\n      return SNAP_ALIGN_OPTIONS.includes(value)\n    },\n  },\n  // sliding transition time in ms\n  transition: {\n    default: DEFAULT_CONFIG.transition,\n    type: Number,\n  },\n  // controls the breakpoint mode relative to the carousel container or the viewport\n  breakpointMode: {\n    default: DEFAULT_CONFIG.breakpointMode,\n    validator(value: BreakpointMode) {\n      return BREAKPOINT_MODE_OPTIONS.includes(value)\n    },\n  },\n  // an object to store breakpoints\n  breakpoints: {\n    default: DEFAULT_CONFIG.breakpoints,\n    type: Object as PropType<CarouselConfig['breakpoints']>,\n  },\n  // time to auto advance slides in ms\n  autoplay: {\n    default: DEFAULT_CONFIG.autoplay,\n    type: Number,\n  },\n  // pause autoplay when mouse hover over the carousel\n  pauseAutoplayOnHover: {\n    default: DEFAULT_CONFIG.pauseAutoplayOnHover,\n    type: Boolean,\n  },\n  // slide number number of initial slide\n  modelValue: {\n    default: undefined,\n    type: Number,\n  },\n  // toggle mouse dragging.\n  mouseDrag: {\n    default: DEFAULT_CONFIG.mouseDrag,\n    type: Boolean,\n  },\n  // toggle mouse dragging.\n  touchDrag: {\n    default: DEFAULT_CONFIG.touchDrag,\n    type: Boolean,\n  },\n  // control snap position alignment\n  dir: {\n    type: String as PropType<Dir>,\n    default: DEFAULT_CONFIG.dir,\n    validator(value: Dir) {\n      // The value must match one of these strings\n      return DIR_OPTIONS.includes(value)\n    },\n  },\n  // aria-labels and additional text labels\n  i18n: {\n    default: DEFAULT_CONFIG.i18n,\n    type: Object as PropType<typeof DEFAULT_CONFIG.i18n>,\n  },\n  ignoreAnimations: {\n    default: false,\n    type: [Array, Boolean, String] as PropType<CarouselConfig['ignoreAnimations']>,\n  },\n  slideEffect: {\n    type: String as PropType<SlideEffect>,\n    default: DEFAULT_CONFIG.slideEffect,\n    validator(value: SlideEffect) {\n      return SLIDE_EFFECTS.includes(value)\n    },\n  },\n}\n","import {\n  defineComponent,\n  onMounted,\n  onBeforeUnmount,\n  ref,\n  reactive,\n  provide,\n  computed,\n  h,\n  watch,\n  SetupContext,\n  Ref,\n  ComputedRef,\n  watchEffect,\n  shallowReactive,\n} from 'vue'\n\nimport { ARIA as ARIAComponent } from '@/components/ARIA'\nimport {\n  CarouselConfig,\n  DEFAULT_CONFIG,\n  DIR_MAP,\n  NonNormalizedDir,\n  NormalizedDir,\n  injectCarousel,\n  createSlideRegistry,\n} from '@/shared'\nimport {\n  except,\n  throttle,\n  getNumberInRange,\n  getMaxSlideIndex,\n  getMinSlideIndex,\n  mapNumberToRange,\n  getScrolledIndex,\n  getTransformValues,\n  createCloneSlides,\n  getDraggedSlidesCount,\n} from '@/utils'\n\nimport {\n  CarouselData,\n  CarouselExposed,\n  CarouselNav,\n  InjectedCarousel,\n} from './Carousel.types'\nimport { carouselProps } from './carouselProps'\n\nexport const Carousel = defineComponent({\n  name: 'VueCarousel',\n  props: carouselProps,\n  emits: [\n    'init',\n    'drag',\n    'slide-start',\n    'loop',\n    'update:modelValue',\n    'slide-end',\n    'before-init',\n    'slide-registered',\n    'slide-unregistered',\n  ],\n  setup(props: CarouselConfig, { slots, emit, expose }: SetupContext) {\n    const slideRegistry = createSlideRegistry(emit)\n    const slides = slideRegistry.getSlides()\n    const slidesCount = computed(() => slides.length)\n\n    const root: Ref<Element | null> = ref(null)\n    const viewport: Ref<Element | null> = ref(null)\n    const slideSize: Ref<number> = ref(0)\n\n    const fallbackConfig = computed(() => ({\n      ...DEFAULT_CONFIG,\n      // Avoid reactivity tracking in breakpoints and vModel which would trigger unnecessary updates\n      ...except(props, ['breakpoints', 'modelValue']),\n      i18n: { ...DEFAULT_CONFIG.i18n, ...props.i18n },\n    }))\n\n    // current active config\n    const config = shallowReactive<CarouselConfig>({ ...fallbackConfig.value })\n\n    // slides\n    const currentSlideIndex = ref(props.modelValue ?? 0)\n    const activeSlideIndex = ref(currentSlideIndex.value)\n\n    watch(currentSlideIndex, (val) => (activeSlideIndex.value = val))\n    const prevSlideIndex = ref(0)\n    const middleSlideIndex = computed(() => Math.ceil((slidesCount.value - 1) / 2))\n    const maxSlideIndex = computed(() => {\n      return getMaxSlideIndex({ config, slidesCount: slidesCount.value })\n    })\n    const minSlideIndex = computed(() => {\n      return getMinSlideIndex({ config, slidesCount: slidesCount.value })\n    })\n\n    let autoplayTimer: ReturnType<typeof setInterval> | null = null\n    let transitionTimer: ReturnType<typeof setTimeout> | null = null\n    let resizeObserver: ResizeObserver | null = null\n\n    const effectiveSlideSize = computed(() => slideSize.value + config.gap)\n\n    const normalizedDir = computed<NormalizedDir>(() => {\n      const dir = config.dir || 'ltr'\n      return dir in DIR_MAP ? DIR_MAP[dir as NonNormalizedDir] : (dir as NormalizedDir)\n    })\n\n    const isReversed = computed(() => ['rtl', 'btt'].includes(normalizedDir.value))\n    const isVertical = computed(() => ['ttb', 'btt'].includes(normalizedDir.value))\n\n    function updateBreakpointsConfig(): void {\n      if (!mounted.value) {\n        return\n      }\n      // Determine the width source based on the 'breakpointMode' config\n      const widthSource =\n        (fallbackConfig.value.breakpointMode === 'carousel'\n          ? root.value?.getBoundingClientRect().width\n          : typeof window !== 'undefined'\n            ? window.innerWidth\n            : 0) || 0\n\n      const breakpointsArray = Object.keys(props.breakpoints || {})\n        .map((key) => Number(key))\n        .sort((a, b) => +b - +a)\n\n      const newConfig: Partial<CarouselConfig> = {}\n      breakpointsArray.some((breakpoint) => {\n        if (widthSource >= breakpoint) {\n          Object.assign(newConfig, props.breakpoints![breakpoint])\n          if (newConfig.i18n) {\n            Object.assign(\n              newConfig.i18n,\n              fallbackConfig.value.i18n,\n              props.breakpoints![breakpoint].i18n\n            )\n          }\n          return true\n        }\n        return false\n      })\n\n      Object.assign(config, fallbackConfig.value, newConfig)\n    }\n\n    const handleResize = throttle(() => {\n      updateBreakpointsConfig()\n      updateSlidesData()\n      updateSlideSize()\n    })\n\n    const totalGap = computed(() => (config.itemsToShow - 1) * config.gap)\n    const transformElements = shallowReactive<Set<HTMLElement>>(new Set())\n\n    /**\n     * Setup functions\n     */\n    function updateSlideSize(): void {\n      if (!viewport.value) return\n      let multiplierWidth = 1\n      transformElements.forEach((el) => {\n        const transformArr = getTransformValues(el)\n\n        if (transformArr.length === 6) {\n          multiplierWidth *= transformArr[0]\n        }\n      })\n\n      // Calculate size based on orientation\n      if (isVertical.value) {\n        if (config.height !== 'auto') {\n          const height =\n            typeof config.height === 'string' && isNaN(parseInt(config.height))\n              ? viewport.value.getBoundingClientRect().height\n              : parseInt(config.height as string)\n\n          slideSize.value = (height - totalGap.value) / config.itemsToShow\n        }\n      } else {\n        const width = viewport.value.getBoundingClientRect().width\n        slideSize.value = (width / multiplierWidth - totalGap.value) / config.itemsToShow\n      }\n    }\n\n    function updateSlidesData(): void {\n      if (!config.wrapAround && slidesCount.value > 0) {\n        currentSlideIndex.value = getNumberInRange({\n          val: currentSlideIndex.value,\n          max: maxSlideIndex.value,\n          min: minSlideIndex.value,\n        })\n      }\n\n      // Validate itemsToShow\n      config.itemsToShow = getNumberInRange({\n        val: config.itemsToShow,\n        max: slidesCount.value,\n        min: 1,\n      })\n    }\n\n    const ignoreAnimations = computed<false | string[]>(() => {\n      if (typeof props.ignoreAnimations === 'string') {\n        return props.ignoreAnimations.split(',')\n      } else if (Array.isArray(props.ignoreAnimations)) {\n        return props.ignoreAnimations\n      } else if (!props.ignoreAnimations) {\n        return []\n      }\n      return false\n    })\n\n    watchEffect(() => updateSlidesData())\n\n    watchEffect(() => {\n      // Call updateSlideSize when viewport is ready and track deps\n      updateSlideSize()\n    })\n\n    let animationInterval: number\n\n    const setAnimationInterval = (event: AnimationEvent) => {\n      const target = event.target as HTMLElement\n      if (\n        !target?.contains(root.value) ||\n        (Array.isArray(ignoreAnimations.value) &&\n          ignoreAnimations.value.includes(event.animationName))\n      ) {\n        return\n      }\n\n      transformElements.add(target)\n      if (!animationInterval) {\n        const stepAnimation = () => {\n          animationInterval = requestAnimationFrame(() => {\n            updateSlideSize()\n            stepAnimation()\n          })\n        }\n        stepAnimation()\n      }\n    }\n    const finishAnimation = (event: AnimationEvent | TransitionEvent) => {\n      const target = event.target as HTMLElement\n      if (target) {\n        transformElements.delete(target)\n      }\n      if (animationInterval && transformElements.size === 0) {\n        cancelAnimationFrame(animationInterval)\n        updateSlideSize()\n      }\n    }\n\n    const mounted = ref(false)\n\n    if (typeof document !== 'undefined') {\n      watchEffect(() => {\n        if (mounted.value && ignoreAnimations.value !== false) {\n          document.addEventListener('animationstart', setAnimationInterval)\n          document.addEventListener('animationend', finishAnimation)\n        } else {\n          document.removeEventListener('animationstart', setAnimationInterval)\n          document.removeEventListener('animationend', finishAnimation)\n        }\n      })\n    }\n\n    onMounted((): void => {\n      mounted.value = true\n      updateBreakpointsConfig()\n      initAutoplay()\n\n      if (root.value) {\n        resizeObserver = new ResizeObserver(handleResize)\n        resizeObserver.observe(root.value)\n      }\n\n      emit('init')\n    })\n\n    onBeforeUnmount(() => {\n      mounted.value = false\n\n      slideRegistry.cleanup()\n\n      if (transitionTimer) {\n        clearTimeout(transitionTimer)\n      }\n      if (animationInterval) {\n        cancelAnimationFrame(animationInterval)\n      }\n      if (autoplayTimer) {\n        clearInterval(autoplayTimer)\n      }\n      if (resizeObserver) {\n        resizeObserver.disconnect()\n        resizeObserver = null\n      }\n\n      if (typeof document !== 'undefined') {\n        handleBlur()\n      }\n      if (root.value) {\n        root.value.removeEventListener('transitionend', updateSlideSize)\n        root.value.removeEventListener('animationiteration', updateSlideSize)\n      }\n    })\n\n    /**\n     * Carousel Event listeners\n     */\n    let isTouch = false\n    const startPosition = { x: 0, y: 0 }\n    const dragged = reactive({ x: 0, y: 0 })\n    const isHover = ref(false)\n    const isDragging = ref(false)\n\n    const handleMouseEnter = (): void => {\n      isHover.value = true\n    }\n    const handleMouseLeave = (): void => {\n      isHover.value = false\n    }\n\n    const handleArrowKeys = throttle((event: KeyboardEvent): void => {\n      if (event.ctrlKey) return\n      switch (event.key) {\n        case 'ArrowLeft':\n        case 'ArrowUp':\n          if (isVertical.value === event.key.endsWith('Up')) {\n            if (isReversed.value) {\n              nav.next(true)\n            } else {\n              nav.prev(true)\n            }\n          }\n          break\n        case 'ArrowRight':\n        case 'ArrowDown':\n          if (isVertical.value === event.key.endsWith('Down')) {\n            if (isReversed.value) {\n              nav.prev(true)\n            } else {\n              nav.next(true)\n            }\n          }\n          break\n      }\n    }, 200)\n    const handleFocus = (): void => {\n      document.addEventListener('keydown', handleArrowKeys)\n    }\n    const handleBlur = (): void => {\n      document.removeEventListener('keydown', handleArrowKeys)\n    }\n\n    function handleDragStart(event: MouseEvent | TouchEvent): void {\n      // Prevent drag initiation on input elements or if already sliding\n      const targetTagName = (event.target as HTMLElement).tagName\n      if (['INPUT', 'TEXTAREA', 'SELECT'].includes(targetTagName) || isSliding.value) {\n        return\n      }\n\n      // Detect if the event is a touchstart or mousedown event\n      isTouch = event.type === 'touchstart'\n\n      // For mouse events, prevent default to avoid text selection\n      if (!isTouch) {\n        event.preventDefault()\n        if ((event as MouseEvent).button !== 0) {\n          // Ignore non-left-click mouse events\n          return\n        }\n      }\n\n      // Initialize start positions for the drag\n      startPosition.x = 'touches' in event ? event.touches[0].clientX : event.clientX\n      startPosition.y = 'touches' in event ? event.touches[0].clientY : event.clientY\n\n      // Attach event listeners for dragging and drag end\n\n      const moveEvent = isTouch ? 'touchmove' : 'mousemove'\n      const endEvent = isTouch ? 'touchend' : 'mouseup'\n      document.addEventListener(moveEvent, handleDragging, { passive: false })\n      document.addEventListener(endEvent, handleDragEnd, { passive: true })\n    }\n\n    const handleDragging = throttle((event: TouchEvent | MouseEvent): void => {\n      isDragging.value = true\n\n      // Get the current position based on the interaction type (touch or mouse)\n      const currentX = 'touches' in event ? event.touches[0].clientX : event.clientX\n      const currentY = 'touches' in event ? event.touches[0].clientY : event.clientY\n\n      // Calculate deltas for X and Y axes\n      dragged.x = currentX - startPosition.x\n      dragged.y = currentY - startPosition.y\n\n      const draggedSlides = getDraggedSlidesCount({\n        isVertical: isVertical.value,\n        isReversed: isReversed.value,\n        dragged,\n        effectiveSlideSize: effectiveSlideSize.value,\n      })\n\n      activeSlideIndex.value = config.wrapAround\n        ? currentSlideIndex.value + draggedSlides\n        : getNumberInRange({\n            val: currentSlideIndex.value + draggedSlides,\n            max: maxSlideIndex.value,\n            min: minSlideIndex.value,\n          })\n\n      // Emit a drag event for further customization if needed\n      emit('drag', { deltaX: dragged.x, deltaY: dragged.y })\n    })\n\n    function handleDragEnd(): void {\n      handleDragging.cancel()\n\n      // Prevent accidental clicks when there is a slide drag\n      if (activeSlideIndex.value !== currentSlideIndex.value && !isTouch) {\n        const preventClick = (e: MouseEvent) => {\n          e.preventDefault()\n          window.removeEventListener('click', preventClick)\n        }\n        window.addEventListener('click', preventClick)\n      }\n\n      slideTo(activeSlideIndex.value)\n\n      // Reset drag state\n      dragged.x = 0\n      dragged.y = 0\n      isDragging.value = false\n\n      const moveEvent = isTouch ? 'touchmove' : 'mousemove'\n      const endEvent = isTouch ? 'touchend' : 'mouseup'\n      document.removeEventListener(moveEvent, handleDragging)\n      document.removeEventListener(endEvent, handleDragEnd)\n    }\n\n    /**\n     * Autoplay\n     */\n    function initAutoplay(): void {\n      if (!config.autoplay || config.autoplay <= 0) {\n        return\n      }\n\n      autoplayTimer = setInterval(() => {\n        if (config.pauseAutoplayOnHover && isHover.value) {\n          return\n        }\n\n        next()\n      }, config.autoplay)\n    }\n\n    function stopAutoplay(): void {\n      if (autoplayTimer) {\n        clearInterval(autoplayTimer)\n        autoplayTimer = null\n      }\n    }\n\n    function resetAutoplay(): void {\n      stopAutoplay()\n      initAutoplay()\n    }\n\n    /**\n     * Navigation function\n     */\n    const isSliding = ref(false)\n\n    function slideTo(slideIndex: number, skipTransition = false): void {\n      if (!skipTransition && isSliding.value) {\n        return\n      }\n\n      let targetIndex = slideIndex\n      let mappedIndex = slideIndex\n\n      prevSlideIndex.value = currentSlideIndex.value\n\n      if (!config.wrapAround) {\n        targetIndex = getNumberInRange({\n          val: targetIndex,\n          max: maxSlideIndex.value,\n          min: minSlideIndex.value,\n        })\n      } else {\n        mappedIndex = mapNumberToRange({\n          val: targetIndex,\n          max: maxSlideIndex.value,\n          min: 0,\n        })\n      }\n\n      emit('slide-start', {\n        slidingToIndex: slideIndex,\n        currentSlideIndex: currentSlideIndex.value,\n        prevSlideIndex: prevSlideIndex.value,\n        slidesCount: slidesCount.value,\n      })\n\n      stopAutoplay()\n      isSliding.value = true\n\n      currentSlideIndex.value = targetIndex\n      if (mappedIndex !== targetIndex) {\n        modelWatcher.pause()\n      }\n      emit('update:modelValue', mappedIndex)\n\n      const transitionCallback = (): void => {\n        if (config.wrapAround) {\n          if (mappedIndex !== targetIndex) {\n            modelWatcher.resume()\n\n            currentSlideIndex.value = mappedIndex\n            emit('loop', {\n              currentSlideIndex: currentSlideIndex.value,\n              slidingToIndex: slideIndex,\n            })\n          }\n        }\n\n        emit('slide-end', {\n          currentSlideIndex: currentSlideIndex.value,\n          prevSlideIndex: prevSlideIndex.value,\n          slidesCount: slidesCount.value,\n        })\n\n        isSliding.value = false\n        resetAutoplay()\n      }\n\n      transitionTimer = setTimeout(transitionCallback, config.transition)\n    }\n\n    function next(skipTransition = false): void {\n      slideTo(currentSlideIndex.value + config.itemsToScroll, skipTransition)\n    }\n\n    function prev(skipTransition = false): void {\n      slideTo(currentSlideIndex.value - config.itemsToScroll, skipTransition)\n    }\n\n    const nav: CarouselNav = { slideTo, next, prev }\n\n    const scrolledIndex = computed(() =>\n      getScrolledIndex({\n        config,\n        currentSlide: currentSlideIndex.value,\n        slidesCount: slidesCount.value,\n      })\n    )\n\n    const provided: InjectedCarousel = reactive({\n      config,\n      slidesCount,\n      viewport,\n      slides,\n      scrolledIndex,\n      currentSlide: currentSlideIndex,\n      activeSlide: activeSlideIndex,\n      maxSlide: maxSlideIndex,\n      minSlide: minSlideIndex,\n      slideSize,\n      isVertical,\n      normalizedDir,\n      nav,\n      isSliding,\n      slideRegistry,\n    })\n\n    provide(injectCarousel, provided)\n    /** @deprecated provides */\n    provide('config', config)\n    provide('slidesCount', slidesCount)\n    provide('currentSlide', currentSlideIndex)\n    provide('maxSlide', maxSlideIndex)\n    provide('minSlide', minSlideIndex)\n    provide('slideSize', slideSize)\n    provide('isVertical', isVertical)\n    provide('normalizeDir', normalizedDir)\n    provide('nav', nav)\n    provide('isSliding', isSliding)\n\n    function restartCarousel(): void {\n      updateBreakpointsConfig()\n      updateSlidesData()\n      updateSlideSize()\n      resetAutoplay()\n    }\n\n    // Update the carousel on props change\n    watch(\n      () => [fallbackConfig.value, props.breakpoints],\n      () => updateBreakpointsConfig(),\n      { deep: true }\n    )\n\n    watch(\n      () => props.autoplay,\n      () => resetAutoplay()\n    )\n\n    // Handle changing v-model value\n    const modelWatcher = watch(\n      () => props.modelValue,\n      (val) => {\n        if (val === currentSlideIndex.value) {\n          return\n        }\n        slideTo(Number(val), true)\n      }\n    )\n\n    // Init carousel\n    emit('before-init')\n\n    const data = reactive<CarouselData>({\n      config,\n      slidesCount,\n      slideSize,\n      currentSlide: currentSlideIndex,\n      maxSlide: maxSlideIndex,\n      minSlide: minSlideIndex,\n      middleSlide: middleSlideIndex,\n    })\n\n    expose<CarouselExposed>({\n      updateBreakpointsConfig,\n      updateSlidesData,\n      updateSlideSize,\n      restartCarousel,\n      slideTo,\n      next,\n      prev,\n      nav,\n      data,\n    })\n\n    const trackHeight = computed(() => {\n      // If the carousel is vertical and height is set to auto, calculate the height based on slide size and gap\n      if (config.height === 'auto') {\n        if (isVertical.value && slideSize.value) {\n          return `${slideSize.value * config.itemsToShow + totalGap.value}px`\n        }\n        return undefined\n      }\n\n      if (\n        typeof config.height === 'number' ||\n        parseFloat(config.height).toString() === config.height\n      ) {\n        return `${config.height}px`\n      } else {\n        return config.height\n      }\n    })\n\n    const clonedSlidesCount = computed(() => {\n      if (!config.wrapAround) {\n        return { before: 0, after: 0 }\n      }\n\n      const slidesToClone = Math.ceil(config.itemsToShow + (config.itemsToScroll - 1))\n      const before = slidesToClone - activeSlideIndex.value\n      const after = slidesToClone - (slidesCount.value - (activeSlideIndex.value + 1))\n\n      return {\n        before: Math.max(0, before),\n        after: Math.max(0, after),\n      }\n    })\n\n    const clonedSlidesOffset = computed(\n      () => clonedSlidesCount.value.before * effectiveSlideSize.value * -1\n    )\n    const trackTransform: ComputedRef<string> = computed(() => {\n      const directionMultiplier = isReversed.value ? 1 : -1\n      const translateAxis = isVertical.value ? 'Y' : 'X'\n\n      // Calculate the total offset for slide transformation\n      const scrolledOffset =\n        scrolledIndex.value * effectiveSlideSize.value * directionMultiplier\n\n      // Include user drag interaction offset\n      const dragOffset = isVertical.value ? dragged.y : dragged.x\n\n      const totalOffset = scrolledOffset + dragOffset\n\n      return `translate${translateAxis}(${totalOffset}px)`\n    })\n\n    const trackStyle = computed(() => ({\n      transform: config.slideEffect === 'slide' ? trackTransform.value : undefined,\n      gap: config.gap > 0 ? `${config.gap}px` : undefined,\n      '--vc-trk-transition-duration': isSliding.value\n        ? `${config.transition}ms`\n        : undefined,\n      '--vc-trk-height': trackHeight.value,\n      '--vc-trk-cloned-offset': `${clonedSlidesOffset.value}px`,\n    }))\n\n    return () => {\n      const slotSlides = slots.default || slots.slides\n      const outputSlides = slotSlides?.(data) || []\n\n      const { before, after } = clonedSlidesCount.value\n      const slidesBefore = createCloneSlides({\n        slides,\n        position: 'before',\n        toShow: before,\n      })\n\n      const slidesAfter = createCloneSlides({\n        slides,\n        position: 'after',\n        toShow: after,\n      })\n\n      const output = [...slidesBefore, ...outputSlides, ...slidesAfter]\n\n      if (!config.enabled || !output.length) {\n        return h(\n          'section',\n          {\n            ref: root,\n            class: ['carousel', 'is-disabled'],\n          },\n          output\n        )\n      }\n\n      const addonsElements = slots.addons?.(data) || []\n\n      const trackEl = h(\n        'ol',\n        {\n          class: 'carousel__track',\n          style: trackStyle.value,\n          onMousedownCapture: config.mouseDrag ? handleDragStart : null,\n          onTouchstartPassiveCapture: config.touchDrag ? handleDragStart : null,\n        },\n        output\n      )\n      const viewPortEl = h('div', { class: 'carousel__viewport', ref: viewport }, trackEl)\n\n      return h(\n        'section',\n        {\n          ref: root,\n          class: [\n            'carousel',\n            `is-${normalizedDir.value}`,\n            `is-effect-${config.slideEffect}`,\n            {\n              'is-vertical': isVertical.value,\n              'is-sliding': isSliding.value,\n              'is-dragging': isDragging.value,\n              'is-hover': isHover.value,\n            },\n          ],\n          dir: normalizedDir.value,\n          'aria-label': config.i18n['ariaGallery'],\n          tabindex: '0',\n          onFocus: handleFocus,\n          onBlur: handleBlur,\n          onMouseenter: handleMouseEnter,\n          onMouseleave: handleMouseLeave,\n        },\n        [viewPortEl, addonsElements, h(ARIAComponent)]\n      )\n    }\n  },\n})\n","export enum IconName {\n  arrowUp = 'arrowUp',\n  arrowDown = 'arrowDown',\n  arrowRight = 'arrowRight',\n  arrowLeft = 'arrowLeft',\n}\n\nexport type IconNameValue = `${IconName}`\n\nexport interface IconProps {\n  title?: string\n  name: IconNameValue\n}\n","import { defineComponent, h, inject, PropType } from 'vue'\n\nimport { DEFAULT_CONFIG, injectCarousel } from '@/shared'\n\nimport { IconName, IconNameValue, IconProps } from './Icon.types'\n\nfunction isIconName(candidate: string): candidate is IconName {\n  return candidate in IconName\n}\n\nconst iconI18n = <Name extends IconNameValue>(name: Name) =>\n  `icon${name.charAt(0).toUpperCase() + name.slice(1)}` as `icon${Capitalize<Name>}`\n\nconst validateIconName = (value: IconNameValue) => {\n  return value && isIconName(value)\n}\n\nexport const icons = {\n  arrowUp: 'M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z',\n  arrowDown: 'M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z',\n  arrowRight: 'M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z',\n  arrowLeft: 'M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z',\n}\n\nexport const Icon = defineComponent<IconProps>({\n  props: {\n    name: {\n      type: String as PropType<IconNameValue>,\n      required: true,\n      validator: validateIconName,\n    },\n    title: {\n      type: String,\n      default: (props: { name: IconNameValue }) =>\n        props.name ? DEFAULT_CONFIG.i18n[iconI18n(props.name)] : '',\n    },\n  },\n  setup(props) {\n    const carousel = inject(injectCarousel, null)\n\n    return () => {\n      const iconName = props.name\n      if (!iconName || !validateIconName(iconName)) return\n\n      const path = icons[iconName]\n      const pathEl = h('path', { d: path })\n\n      const iconTitle: string =\n        carousel?.config.i18n[iconI18n(iconName)] || props.title!\n\n      const titleEl = h('title', iconTitle)\n\n      return h(\n        'svg',\n        {\n          class: 'carousel__icon',\n          viewBox: '0 0 24 24',\n          role: 'img',\n          'aria-label': iconTitle,\n        },\n        [titleEl, pathEl]\n      )\n    }\n  },\n})\n","import { inject, h, defineComponent, computed } from 'vue'\n\nimport { NormalizedDir, injectCarousel } from '@/shared'\n\nimport { Icon, IconNameValue } from '../Icon'\n\nimport { NavigationProps } from './Navigation.types'\n\nexport const Navigation = defineComponent<NavigationProps>({\n  name: 'CarouselNavigation',\n  inheritAttrs: false,\n  setup(props, { slots, attrs }) {\n    const carousel = inject(injectCarousel)\n    if (!carousel) {\n      return () => '' // Don't render, let vue warn about the missing provide\n    }\n    const { next: slotNext, prev: slotPrev } = slots\n\n    const getPrevIcon = () => {\n      const directionIcons: Record<NormalizedDir, IconNameValue> = {\n        ltr: 'arrowLeft',\n        rtl: 'arrowRight',\n        ttb: 'arrowUp',\n        btt: 'arrowDown',\n      }\n\n      return directionIcons[carousel.normalizedDir]\n    }\n    const getNextIcon = () => {\n      const directionIcons: Record<NormalizedDir, IconNameValue> = {\n        ltr: 'arrowRight',\n        rtl: 'arrowLeft',\n        ttb: 'arrowDown',\n        btt: 'arrowUp',\n      }\n\n      return directionIcons[carousel.normalizedDir]\n    }\n\n    const prevDisabled = computed(() => !carousel.config.wrapAround && carousel.currentSlide <= carousel.minSlide)\n    const nextDisabled = computed(() => !carousel.config.wrapAround && carousel.currentSlide >= carousel.maxSlide)\n\n    return () => {\n      const { i18n } = carousel.config\n      const prevButton = h(\n        'button',\n        {\n          type: 'button',\n          disabled: prevDisabled.value,\n          'aria-label': i18n['ariaPreviousSlide'],\n          title: i18n['ariaPreviousSlide'],\n          onClick: carousel.nav.prev,\n          ...attrs,\n          class: [\n            'carousel__prev',\n            {'carousel__prev--disabled': prevDisabled.value},\n            attrs.class,\n          ],\n        },\n        slotPrev?.() || h(Icon, { name: getPrevIcon() })\n      )\n      const nextButton = h(\n        'button',\n        {\n          type: 'button',\n          disabled: nextDisabled.value,\n          'aria-label': i18n['ariaNextSlide'],\n          title: i18n['ariaNextSlide'],\n          onClick: carousel.nav.next,\n          ...attrs,\n          class: [\n            'carousel__next',\n            {'carousel__next--disabled': nextDisabled.value},\n            attrs.class,\n          ],\n        },\n        slotNext?.() || h(Icon, { name: getNextIcon() })\n      )\n\n      return [prevButton, nextButton]\n    }\n  },\n})\n","import { inject, h, VNode, defineComponent, computed } from 'vue'\n\nimport { injectCarousel } from '@/shared'\nimport { mapNumberToRange, i18nFormatter, calculateOffset } from '@/utils'\n\nimport { PaginationProps } from './Pagination.types'\n\nexport const Pagination = defineComponent<PaginationProps>({\n  name: 'CarouselPagination',\n  props: {\n    disableOnClick: {\n      type: Boolean,\n    },\n    paginateByItemsToShow: {\n      type: Boolean,\n    },\n  },\n  setup(props) {\n    const carousel = inject(injectCarousel)\n\n    if (!carousel) {\n      return () => '' // Don't render, let vue warn about the missing provide\n    }\n\n    const offset = computed(() =>\n      calculateOffset(carousel.config.snapAlign, carousel.config.itemsToShow)\n    )\n    const isPaginated = computed(\n      () => props.paginateByItemsToShow && carousel.config.itemsToShow > 1\n    )\n    const currentPage = computed(() =>\n      Math.ceil((carousel.activeSlide - offset.value) / carousel.config.itemsToShow)\n    )\n    const pageCount = computed(() =>\n      Math.ceil(carousel.slidesCount / carousel.config.itemsToShow)\n    )\n\n    const isActive = (slide: number): boolean =>\n      mapNumberToRange(\n        isPaginated.value\n          ? {\n              val: currentPage.value,\n              max: pageCount.value - 1,\n              min: 0,\n            }\n          : {\n              val: carousel.activeSlide,\n              max: carousel.maxSlide,\n              min: carousel.minSlide,\n            }\n      ) === slide\n\n    return () => {\n      const children: Array<VNode> = []\n\n      for (\n        let slide = isPaginated.value ? 0 : carousel.minSlide;\n        slide <= (isPaginated.value ? pageCount.value - 1 : carousel.maxSlide);\n        slide++\n      ) {\n        const buttonLabel = i18nFormatter(\n          carousel.config.i18n[\n            isPaginated.value ? 'ariaNavigateToPage' : 'ariaNavigateToSlide'\n          ],\n          {\n            slideNumber: slide + 1,\n          }\n        )\n        const active = isActive(slide)\n        const button = h('button', {\n          type: 'button',\n          class: {\n            'carousel__pagination-button': true,\n            'carousel__pagination-button--active': active,\n          },\n          'aria-label': buttonLabel,\n          'aria-pressed': active,\n          'aria-controls': carousel.slides[slide]?.exposed?.id,\n          title: buttonLabel,\n          disabled: props.disableOnClick,\n          onClick: () =>\n            carousel.nav.slideTo(\n              isPaginated.value\n                ? slide * carousel.config.itemsToShow + offset.value\n                : slide\n            ),\n        })\n        const item = h('li', { class: 'carousel__pagination-item', key: slide }, button)\n        children.push(item)\n      }\n\n      return h('ol', { class: 'carousel__pagination' }, children)\n    }\n  },\n})\n","import {\n  defineComponent,\n  inject,\n  h,\n  SetupContext,\n  computed,\n  ComputedRef,\n  getCurrentInstance,\n  onUnmounted,\n  provide,\n  useId,\n  onMounted,\n  onUpdated,\n  DeepReadonly,\n  ref,\n} from 'vue'\n\nimport { injectCarousel } from '@/shared'\nimport { disableChildrenTabbing } from '@/utils'\n\nimport { SlideProps } from './Slide.types'\n\nexport const Slide = defineComponent({\n  name: 'CarouselSlide',\n  props: {\n    isClone: {\n      type: Boolean,\n      default: false,\n    },\n    id: {\n      type: String,\n      default: (props: { isClone?: boolean }) => (props.isClone ? undefined : useId()),\n    },\n    index: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  setup(props: DeepReadonly<SlideProps>, { slots, expose }: SetupContext) {\n    const carousel = inject(injectCarousel)\n    provide(injectCarousel, undefined) // Don't provide for nested slides\n\n    if (!carousel) {\n      return () => '' // Don't render, let vue warn about the missing provide\n    }\n\n    const currentIndex = ref(props.index)\n\n    const setIndex = (newIndex: number) => {\n      currentIndex.value = newIndex\n    }\n\n    expose({\n      id: props.id,\n      setIndex,\n    })\n\n    const isActive: ComputedRef<boolean> = computed(\n      () => currentIndex.value === carousel.activeSlide\n    )\n    const isPrev: ComputedRef<boolean> = computed(\n      () => currentIndex.value === carousel.activeSlide - 1\n    )\n    const isNext: ComputedRef<boolean> = computed(\n      () => currentIndex.value === carousel.activeSlide + 1\n    )\n    const isVisible: ComputedRef<boolean> = computed(\n      () =>\n        currentIndex.value >= Math.floor(carousel.scrolledIndex) &&\n        currentIndex.value <\n          Math.ceil(carousel.scrolledIndex) + carousel.config.itemsToShow\n    )\n\n    const slideStyle = computed(() => {\n      const dimension =\n        carousel.config.gap > 0 && carousel.config.itemsToShow > 1\n          ? `calc(${100 / carousel.config.itemsToShow}% - ${\n              (carousel.config.gap * (carousel.config.itemsToShow - 1)) /\n              carousel.config.itemsToShow\n            }px)`\n          : `${100 / carousel.config.itemsToShow}%`\n\n      return carousel.isVertical ? { height: dimension } : { width: dimension }\n    })\n\n    const instance = getCurrentInstance()!\n\n    carousel.slideRegistry.registerSlide(instance, props.index)\n    onUnmounted(() => {\n      carousel.slideRegistry.unregisterSlide(instance)\n    })\n\n    if (props.isClone) {\n      // Prevent cloned slides from being focusable\n      onMounted(() => {\n        disableChildrenTabbing(instance.vnode)\n      })\n      onUpdated(() => {\n        disableChildrenTabbing(instance.vnode)\n      })\n    }\n\n    return () => {\n      if (!carousel.config.enabled) {\n        return slots.default?.()\n      }\n\n      return h(\n        'li',\n        {\n          style: slideStyle.value,\n          class: {\n            carousel__slide: true,\n            'carousel__slide--clone': props.isClone,\n            'carousel__slide--visible': isVisible.value,\n            'carousel__slide--active': isActive.value,\n            'carousel__slide--prev': isPrev.value,\n            'carousel__slide--next': isNext.value,\n            'carousel__slide--sliding': carousel.isSliding,\n          },\n          onFocusin: () => {\n            // Prevent the viewport being scrolled by the focus\n            if (carousel.viewport) {\n              carousel.viewport.scrollLeft = 0\n            }\n            carousel.nav.slideTo(currentIndex.value)\n          },\n          id: props.isClone ? undefined : props.id,\n          'aria-hidden': props.isClone || undefined,\n        },\n        slots.default?.({\n          isActive: isActive.value,\n          isClone: props.isClone,\n          isPrev: isPrev.value,\n          isNext: isNext.value,\n          isSliding: carousel.isSliding,\n          isVisible: isVisible.value,\n        })\n      )\n    }\n  },\n})\n"],"names":["shallowReactive","cloneVNode","defineComponent","inject","h","computed","ref","watch","watchEffect","onMounted","onBeforeUnmount","reactive","provide","ARIAComponent","useId","getCurrentInstance","onUnmounted","onUpdated"],"mappings":"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"}